#!/bin/bash

set +e

>&2 echo "This script will delete all temporary cache dirs from home."
read -p "Do you want to continue? (y/n) " answer
case "$answer" in
  [Yy]* )
    >&2 echo "Proceeding..."
    empty=`mktemp -d`
    rm -rf $HOME/.local
    rm -rf $HOME/.config/nvm
    rm -rf $HOME/.vscode-server
    rm -rf $HOME/.miniconda3
    rm -rf $HOME/.bun
    rm -rf $HOME/go
    find $HOME -type d -name "cache" -prune -exec rm -rf {} +
    find $HOME -type d -name ".cache" -prune -exec rm -rf {} +
    find $HOME -type d -name ".npm" -prune -exec rm -rf {} +
    find $HOME -type d -name "node_modules" -prune -exec rm -rf {} +
    find $HOME -type d -name "site-packages" -prune -exec rm -rf {} +
    >&2 echo "...Done!"
    ;;
  [Nn]* )
    echo "Aborting."
    exit 1
    ;;
  * )
    echo "Invalid input. Please enter y or n."
    ;;
esac
